const FormAutoFill=new Vue({el:"#app",data:{gas:"https://script.google.com/macros/s/AKfycbxnT1bAwV9FnCTUUz3VcaSXPRgv1Pc3X_5hiMZDINAJrxiX1bKoG3-KgJKEx-dgC4h2cw/exec",id:"AKfycbxnT1bAwV9FnCTUUz3VcaSXPRgv1Pc3X_5hiMZDINAJrxiX1bKoG3-KgJKEx-dgC4h2cw",persons:{},person:{},formAction:"https://docs.google.com/forms/u/0/d/e/1FAIpQLSewXzBbG3vunjjzGy4LnCb9Gf0uAqfH8nx_8dCKp8Orq_yLog/formResponse",input:{id:"entry.1815052017",name:"entry.1543576845",gender:"entry.892230025",phone:"entry.1003128242",site:"entry.260985931",msg:"entry.1782841550"},loading:!1},methods:{limitIdLen(i){if(i.length>4)return this.id=this.id.slice(0,4)},submit(){if(void 0!==this.person.name){let i=`${this.input.id}=${this.person.id}&${this.input.name}=${this.person.name}&${this.input.gender}=${this.person.gender}&${this.input.phone}=${this.person.phone}&${this.input.site}=${this.person.site}&${this.input.msg}=${this.person.message||"無"}`;fetch(this.formAction+"?"+i,{method:"POST"}).catch((i=>{alert("提交成功。"),this.id="",this.person={}}))}}},watch:{id:function(i){if(4===i.length)if(void 0===this.persons[this.id]){this.loading=!0;let i=this.gas+"?id="+this.id;fetch(i,{method:"POST"}).then((i=>i.json())).then((i=>{this.persons[this.id]=i,this.person=i,this.loading=!1}))}else this.person=this.persons[this.id]}}});